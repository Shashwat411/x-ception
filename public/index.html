<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NovaBharat Bank ‚Äì AI Voice Banking</title>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
<style>
:root {
  --navy: #0a1628; --navy-mid: #0f2044; --blue: #1a4fa0; --blue-bright: #2563eb;
  --cyan: #06b6d4; --gold: #f59e0b; --gold-light: #fcd34d; --white: #f8fafc;
  --gray: #94a3b8; --gray-light: #e2e8f0; --success: #10b981; --danger: #ef4444;
  --warning: #f59e0b; --surface: rgba(255,255,255,0.04); --border: rgba(255,255,255,0.08);
  --radius: 16px; --shadow: 0 8px 32px rgba(0,0,0,0.4);
}
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { font-family:'DM Sans',sans-serif; background:var(--navy); color:var(--white); overflow-x:hidden; }
.page { display:none; min-height:100vh; animation:fadeIn .3s ease; }
.page.active { display:block; }
@keyframes fadeIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }
nav { position:fixed; top:0; left:0; right:0; z-index:1000; background:rgba(10,22,40,.96); backdrop-filter:blur(20px); border-bottom:1px solid var(--border); padding:0 5%; height:70px; display:flex; align-items:center; justify-content:space-between; }
.logo { display:flex; align-items:center; gap:10px; cursor:pointer; }
.logo-box { width:38px; height:38px; background:linear-gradient(135deg,var(--blue-bright),var(--cyan)); border-radius:10px; display:flex; align-items:center; justify-content:center; font-family:'Rajdhani',sans-serif; font-weight:700; font-size:18px; }
.logo-text { font-family:'Rajdhani',sans-serif; font-size:20px; font-weight:700; letter-spacing:1px; }
.logo-text span { color:var(--cyan); }
.nav-right { display:flex; gap:12px; align-items:center; }
.lang-sel { background:var(--surface); border:1px solid var(--border); border-radius:8px; color:var(--white); font-family:'DM Sans',sans-serif; font-size:13px; padding:7px 10px; cursor:pointer; outline:none; }
.lang-sel option { background:var(--navy-mid); }
.btn { padding:10px 22px; border-radius:8px; font-size:14px; font-weight:500; cursor:pointer; border:none; transition:all .2s; font-family:'DM Sans',sans-serif; }
.btn-outline { background:transparent; border:1px solid var(--border); color:var(--white); }
.btn-outline:hover { border-color:var(--cyan); color:var(--cyan); }
.btn-primary { background:linear-gradient(135deg,var(--blue-bright),var(--cyan)); color:#fff; }
.btn-primary:hover { opacity:.9; transform:translateY(-1px); box-shadow:0 4px 20px rgba(37,99,235,.4); }
.btn-gold { background:linear-gradient(135deg,var(--gold),var(--gold-light)); color:var(--navy); font-weight:600; }
.btn-danger { background:var(--danger); color:#fff; }
.btn-success { background:var(--success); color:#fff; }
.btn-block { width:100%; padding:13px; font-size:15px; }
.hero { min-height:100vh; padding-top:70px; background:linear-gradient(135deg,var(--navy) 0%,var(--navy-mid) 50%,#0d1f3c 100%); position:relative; overflow:hidden; display:flex; align-items:center; }
.hero::before { content:''; position:absolute; inset:0; background: radial-gradient(ellipse 80% 60% at 70% 50%,rgba(37,99,235,.12) 0%,transparent 70%), radial-gradient(ellipse 40% 40% at 20% 80%,rgba(6,182,212,.08) 0%,transparent 60%); }
.grid-bg { position:absolute; inset:0; opacity:.04; background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px); background-size:60px 60px; }
.hero-inner { position:relative; z-index:1; padding:80px 5%; max-width:1300px; margin:0 auto; width:100%; }
.hero-grid { display:grid; grid-template-columns:1fr 1fr; gap:60px; align-items:center; }
.hero-tag { display:inline-flex; align-items:center; gap:8px; padding:6px 14px; background:rgba(6,182,212,.1); border:1px solid rgba(6,182,212,.3); border-radius:50px; font-size:12px; font-weight:500; color:var(--cyan); margin-bottom:20px; }
.hero-tag::before { content:''; width:6px; height:6px; background:var(--cyan); border-radius:50%; animation:pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.4} }
h1 { font-family:'Rajdhani',sans-serif; font-size:clamp(40px,5vw,68px); font-weight:700; line-height:1.05; margin-bottom:20px; }
.accent { color:var(--cyan); }
.gold-text { color:var(--gold); }
.hero-sub { font-size:17px; color:var(--gray); line-height:1.7; margin-bottom:36px; }
.hero-actions { display:flex; gap:14px; flex-wrap:wrap; }
.hero-stats { display:flex; gap:32px; margin-top:48px; }
.stat-num { font-family:'Rajdhani',sans-serif; font-size:30px; font-weight:700; }
.stat-label { font-size:12px; color:var(--gray); margin-top:2px; }
.voice-card { background:linear-gradient(135deg,rgba(15,32,68,.8),rgba(10,22,40,.9)); border:1px solid rgba(37,99,235,.3); border-radius:24px; padding:32px; position:relative; overflow:hidden; }
.vc-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:24px; }
.vc-title { font-family:'Rajdhani',sans-serif; font-size:18px; font-weight:600; }
.ai-badge { padding:4px 12px; border-radius:50px; background:rgba(6,182,212,.15); border:1px solid rgba(6,182,212,.4); font-size:11px; font-weight:600; color:var(--cyan); }
.voice-viz { display:flex; align-items:center; justify-content:center; gap:4px; height:60px; margin-bottom:20px; }
.vbar { width:4px; background:linear-gradient(to top,var(--blue-bright),var(--cyan)); border-radius:2px; animation:wave 1.2s ease-in-out infinite; }
.vbar:nth-child(1){height:20px;animation-delay:0s}.vbar:nth-child(2){height:35px;animation-delay:.1s}.vbar:nth-child(3){height:50px;animation-delay:.2s}
.vbar:nth-child(4){height:60px;animation-delay:.3s}.vbar:nth-child(5){height:45px;animation-delay:.4s}.vbar:nth-child(6){height:55px;animation-delay:.5s}.vbar:nth-child(7){height:40px;animation-delay:.6s}.vbar:nth-child(8){height:30px;animation-delay:.7s}.vbar:nth-child(9){height:20px;animation-delay:.8s}
@keyframes wave { 0%,100%{transform:scaleY(1)} 50%{transform:scaleY(.3)} }
.mic-btn { width:70px; height:70px; border-radius:50%; margin:0 auto 16px; display:flex; align-items:center; justify-content:center; cursor:pointer; background:linear-gradient(135deg,var(--blue-bright),var(--cyan)); box-shadow:0 0 0 0 rgba(37,99,235,.4); animation:micPulse 2s infinite; border:none; color:#fff; font-size:26px; }
@keyframes micPulse { 0%{box-shadow:0 0 0 0 rgba(37,99,235,.4)} 70%{box-shadow:0 0 0 15px rgba(37,99,235,0)} 100%{box-shadow:0 0 0 0 rgba(37,99,235,0)} }
.lang-pills { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
.lang-pill { padding:5px 14px; border-radius:50px; font-size:12px; font-weight:500; background:var(--surface); border:1px solid var(--border); color:var(--gray); cursor:pointer; transition:all .2s; }
.lang-pill.active,.lang-pill:hover { background:rgba(37,99,235,.2); border-color:var(--blue-bright); color:var(--white); }
#voicePanel { position:fixed; bottom:20px; right:20px; width:300px; background:var(--navy-mid); border:1px solid var(--border); border-radius:16px; padding:20px; z-index:900; box-shadow:var(--shadow); }
.close-btn { position:absolute; top:10px; right:10px; background:none; border:none; color:var(--white); cursor:pointer; font-size:24px; }
.voice-output { min-height:100px; background:var(--surface); border:1px solid var(--border); border-radius:8px; padding:12px; margin-bottom:12px; color:var(--gray); font-size:13px; }
.pin-modal { position:fixed; inset:0; background:rgba(0,0,0,0.7); display:none; align-items:center; justify-content:center; z-index:2000; }
.pin-modal.active { display:flex; }
.pin-form { background:var(--navy-mid); border:1px solid var(--border); border-radius:16px; padding:32px; width:100%; max-width:400px; }
.pin-inputs { display:flex; gap:12px; margin:20px 0; justify-content:center; }
.pin-input { width:50px; height:50px; font-size:24px; text-align:center; border:2px solid var(--border); border-radius:8px; background:var(--surface); color:var(--white); }
.pin-input:focus { outline:none; border-color:var(--cyan); }
.account-info { background:var(--surface); border-radius:8px; padding:12px; margin-bottom:16px; font-size:13px; }
.transfer-form { padding:20px; background:var(--surface); border-radius:8px; margin-bottom:20px; }
.form-field { margin-bottom:12px; }
.form-field label { font-size:12px; color:var(--gray); display:block; margin-bottom:4px; }
.form-field input { width:100%; padding:8px; background:var(--navy-mid); border:1px solid var(--border); border-radius:4px; color:var(--white); }
.form-field input:focus { outline:none; border-color:var(--cyan); }
.dashboard { padding:20px; }
.card { background:linear-gradient(135deg,rgba(26,79,160,.5),rgba(10,22,40,.6)); border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:12px; }
.card-title { font-weight:600; margin-bottom:8px; }
.card-amount { font-size:20px; color:var(--cyan); font-weight:700; }
.transaction-list { max-height:200px; overflow-y:auto; }
.transaction-item { padding:8px; border-bottom:1px solid var(--border); font-size:12px; }
.transaction-item:last-child { border-bottom:none; }
@media (max-width:768px) { .hero-grid { grid-template-columns:1fr; } #voicePanel { width:calc(100% - 40px); } }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
  <div class="logo" onclick="window.location.reload()">
    <div class="logo-box">NB</div>
    <div class="logo-text">Nova<span>Bharat</span></div>
  </div>
  <div class="nav-right">
    <select class="lang-sel" id="langSelect" onchange="changeLanguage(this.value)">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
      <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    </select>
    <button class="btn btn-outline" onclick="showPage('login')">Sign In</button>
  </div>
</nav>

<!-- Hero Page -->
<div id="hero" class="page active">
  <div class="hero">
    <div class="grid-bg"></div>
    <div class="hero-inner">
      <div class="hero-grid">
        <div>
          <div class="hero-tag">üé§ AI-Powered Voice Banking</div>
          <h1>Banking at the Speed of <span class="accent">Sound</span></h1>
          <p class="hero-sub">Experience the future of banking with our intelligent voice bot. Transfer money, check balances, and manage your account‚Äîall by speaking.</p>
          <div class="hero-actions">
            <button class="btn btn-primary" onclick="showPage('signup')">Create Account</button>
            <button class="btn btn-outline" onclick="showPage('login')">Sign In</button>
            <button class="btn btn-gold" onclick="openVP()">Try Voice Banking</button>
          </div>
          <div class="hero-stats">
            <div><div class="stat-num">120</div><div class="stat-label">Branches</div></div>
            <div><div class="stat-num">50K+</div><div class="stat-label">Happy Customers</div></div>
            <div><div class="stat-num">24/7</div><div class="stat-label">Voice Support</div></div>
          </div>
        </div>
        <div>
          <div class="voice-card">
            <div class="vc-header">
              <span class="vc-title">Voice Assistant</span>
              <span class="ai-badge">AI Powered</span>
            </div>
            <div class="voice-viz" id="voiceViz">
              <div class="vbar"></div><div class="vbar"></div><div class="vbar"></div>
              <div class="vbar"></div><div class="vbar"></div><div class="vbar"></div>
              <div class="vbar"></div><div class="vbar"></div><div class="vbar"></div>
            </div>
            <button class="mic-btn" id="hereMicBtn" onclick="openVP()">üé§</button>
            <div style="text-align:center; font-size:12px; color:var(--gray); margin-top:12px;">
              <p id="heroVoiceText">Click to open voice panel</p>
            </div>
            <div class="lang-pills" id="langPills" style="margin-top:16px;">
              <div class="lang-pill active" onclick="selectLangPill('en')">EN</div>
              <div class="lang-pill" onclick="selectLangPill('hi')">HI</div>
              <div class="lang-pill" onclick="selectLangPill('mr')">MR</div>
              <div class="lang-pill" onclick="selectLangPill('ta')">TA</div>
              <div class="lang-pill" onclick="selectLangPill('bn')">BN</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Sign Up Page -->
<div id="signup" class="page">
  <div style="padding-top:100px; max-width:500px; margin:0 auto; padding-bottom:40px;">
    <h2 style="margin-bottom:20px;">Create Your Account</h2>
    <div class="transfer-form">
      <div class="form-field">
        <label>Full Name</label>
        <input type="text" id="signupName" placeholder="Enter your name">
      </div>
      <div class="form-field">
        <label>Email</label>
        <input type="email" id="signupEmail" placeholder="Enter your email">
      </div>
      <div class="form-field">
        <label>Password</label>
        <input type="password" id="signupPassword" placeholder="Create a password">
      </div>
      <div class="form-field">
        <label>4-Digit PIN</label>
        <input type="password" id="signupPin" placeholder="Enter 4-digit PIN" maxlength="4">
      </div>
      <button class="btn btn-primary btn-block" onclick="handleSignup()">Sign Up</button>
      <button class="btn btn-outline btn-block" style="margin-top:10px;" onclick="showPage('login')">Already have an account?</button>
    </div>
  </div>
</div>

<!-- Login Page -->
<div id="login" class="page">
  <div style="padding-top:100px; max-width:500px; margin:0 auto; padding-bottom:40px;">
    <h2 style="margin-bottom:20px;">Sign In</h2>
    <div class="transfer-form">
      <div class="form-field">
        <label>Email</label>
        <input type="email" id="loginEmail" placeholder="Enter your email">
      </div>
      <div class="form-field">
        <label>Password</label>
        <input type="password" id="loginPassword" placeholder="Enter your password">
      </div>
      <button class="btn btn-primary btn-block" onclick="handleLogin()">Sign In</button>
      <button class="btn btn-outline btn-block" style="margin-top:10px;" onclick="showPage('signup')">Create new account</button>
      <button class="btn btn-outline btn-block" style="margin-top:10px;" onclick="openVP()">Try Voice Login</button>
    </div>
  </div>
</div>

<!-- Dashboard Page -->
<div id="dashboard" class="page">
  <div style="padding-top:100px; max-width:1000px; margin:0 auto; padding-bottom:40px;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
      <h2>Dashboard</h2>
      <button class="btn btn-outline" onclick="handleLogout()">Sign Out</button>
    </div>
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px;">
      <div class="card">
        <div class="card-title">Balance</div>
        <div class="card-amount" id="dashBalance">‚Çπ 25,000</div>
      </div>
      <div class="card">
        <div class="card-title">Account Number</div>
        <div id="dashAccount" style="color:var(--gray); font-size:14px; margin-top:8px;">1234567890</div>
      </div>
      <button class="btn btn-primary btn-block" style="grid-column:1/3;" onclick="startTransfer()">Transfer Money</button>
      <button class="btn btn-gold btn-block" style="grid-column:1/3;" onclick="openVP()">Open Voice Banking</button>
    </div>
    <div style="margin-top:30px;">
      <h3 style="margin-bottom:16px;">Recent Transactions</h3>
      <div class="transaction-list" id="txList">
        <div class="transaction-item">No transactions yet</div>
      </div>
    </div>
  </div>
</div>

<!-- Voice Panel -->
<div id="voicePanel" style="display:none;">
  <button class="close-btn" onclick="closeVP()">‚úï</button>
  <h3 style="margin-bottom:12px;">Voice Banking</h3>
  <select id="vpLang" onchange="currentLang = this.value" style="width:100%; padding:8px; margin-bottom:12px; background:var(--surface); border:1px solid var(--border); border-radius:4px; color:var(--white);">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
  </select>
  <div class="voice-output" id="vpOutput">Ready to listen...</div>
  <button class="btn btn-primary btn-block" id="vpMicBtn" onclick="startListening()">üé§ Listen</button>
  <button class="btn btn-outline btn-block" style="margin-top:8px;" onclick="closeVP()">Close</button>
</div>

<!-- PIN Modal -->
<div id="pinModal" class="pin-modal">
  <div class="pin-form">
    <h3 style="margin-bottom:16px;">Enter Your PIN</h3>
    <div class="account-info" id="pinModalInfo">Account: 1234567890</div>
    <p style="font-size:12px; color:var(--gray); margin-bottom:12px;">Secure authentication required</p>
    <div class="pin-inputs" id="pinInputsContainer">
      <input class="pin-input" id="cp1" type="password" maxlength="1" onkeyup="focusNext(this, 'cp2')">
      <input class="pin-input" id="cp2" type="password" maxlength="1" onkeyup="focusNext(this, 'cp3')">
      <input class="pin-input" id="cp3" type="password" maxlength="1" onkeyup="focusNext(this, 'cp4')">
      <input class="pin-input" id="cp4" type="password" maxlength="1" onkeyup="focusNext(this, null)">
    </div>
    <button class="btn btn-primary btn-block" onclick="confirmPIN()">Confirm</button>
    <button class="btn btn-outline btn-block" style="margin-top:8px;" onclick="closePinModal()">Cancel</button>
  </div>
</div>

<script>
// Multilingual strings
const STRINGS = {
  en: { voice_bot: 'Voice Banking', send: 'Send', close: 'Close', welcome: 'Welcome!', transfer_success: 'Transfer successful!' },
  hi: { voice_bot: '‡§µ‡•â‡§Ø‡§∏ ‡§¨‡•à‡§Ç‡§ï‡§ø‡§Ç‡§ó', send: '‡§≠‡•á‡§ú‡•á‡§Ç', close: '‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç', welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!', transfer_success: '‡§∏‡•ç‡§•‡§æ‡§®‡§æ‡§Ç‡§§‡§∞‡§£ ‡§∏‡§´‡§≤!' },
  mr: { voice_bot: '‡§µ‡•ç‡§π‡•â‡§á‡§∏ ‡§¨‡§Å‡§ï‡§ø‡§Ç‡§ó', send: '‡§™‡§æ‡§†‡§µ‡§æ', close: '‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§æ', welcome: '‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§Ü‡§π‡•á!', transfer_success: '‡§π‡§∏‡•ç‡§§‡§æ‡§Ç‡§§‡§∞‡§£ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä!' },
  ta: { voice_bot: '‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç ‡Æµ‡Æô‡Øç‡Æï‡Æø', send: '‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç', close: '‡ÆÆ‡ØÇ‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç', welcome: '‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç!', transfer_success: '‡Æ™‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï!' },
  bn: { voice_bot: '‡¶≠‡¶Ø‡¶º‡ßá‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç', send: '‡¶™‡¶æ‡¶†‡¶æ‡¶®', close: '‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®', welcome: '‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!', transfer_success: '‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶æ‡¶®‡ßç‡¶§‡¶∞ ‡¶∏‡¶´‡¶≤ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!' }
};

let currentLang = 'en';
let currentUser = null;
let transferData = null;

function showPage(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(page).classList.add('active');
}

function changeLanguage(lang) {
  currentLang = lang;
  document.getElementById('vpLang').value = lang;
  alert('Language changed to: ' + lang);
}

function selectLangPill(lang) {
  currentLang = lang;
  document.querySelectorAll('.lang-pill').forEach(p => p.classList.remove('active'));
  event.target.classList.add('active');
}

function openVP() {
  document.getElementById('voicePanel').style.display = 'block';
  document.getElementById('vpLang').value = currentLang;
}

function closeVP() {
  const fb = prompt('Give us feedback (optional):');
  if(fb && fb.trim()) {
    localStorage.setItem('xb_feedback_' + Date.now(), JSON.stringify({feedback: fb, lang: currentLang}));
  }
  document.getElementById('voicePanel').style.display = 'none';
}

function startListening() {
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = currentLang === 'en' ? 'en-US' : currentLang === 'hi' ? 'hi-IN' : currentLang === 'mr' ? 'mr-IN' : currentLang === 'ta' ? 'ta-IN' : 'bn-IN';
  recognition.start();
  document.getElementById('vpOutput').textContent = 'Listening...';
  recognition.onresult = (e) => {
    const result = e.results[0][0].transcript.toLowerCase();
    document.getElementById('vpOutput').textContent = 'You said: ' + result;
    if(result.includes('transfer')) {
      startTransfer();
    } else if(result.includes('balance')) {
      speak('Your balance is 25,000 rupees');
    }
  };
  recognition.onerror = () => {
    document.getElementById('vpOutput').textContent = 'Error listening. Try again.';
  };
}

function speak(text) {
  const synth = window.speechSynthesis;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = currentLang === 'en' ? 'en-US' : currentLang === 'hi' ? 'hi-IN' : currentLang === 'mr' ? 'mr-IN' : currentLang === 'ta' ? 'ta-IN' : 'bn-IN';
  synth.speak(utterance);
}

function startTransfer() {
  transferData = { amount: 0, beneficiary: '' };
  openPinModal();
}

function openPinModal() {
  document.getElementById('pinModal').classList.add('active');
}

function closePinModal() {
  document.getElementById('pinModal').classList.remove('active');
}

function focusNext(el, nextId) {
  if(el.value && nextId) {
    document.getElementById(nextId).focus();
  }
}

function confirmPIN() {
  const pin = ['cp1','cp2','cp3','cp4'].map(id => document.getElementById(id).value).join('');
  if(pin.length === 4) {
    alert('PIN Verified! Transfer successful.');
    closePinModal();
  } else {
    alert('Please enter all 4 digits');
  }
}

function handleSignup() {
  const name = document.getElementById('signupName').value;
  const email = document.getElementById('signupEmail').value;
  const pin = document.getElementById('signupPin').value;
  if(name && email && pin.length === 4) {
    currentUser = { name, email, pin, balance: 25000 };
    localStorage.setItem('user_' + email, JSON.stringify(currentUser));
    alert('Account created! Please sign in.');
    showPage('login');
  } else {
    alert('Please fill all fields correctly');
  }
}

function handleLogin() {
  const email = document.getElementById('loginEmail').value;
  const user = localStorage.getItem('user_' + email);
  if(user) {
    currentUser = JSON.parse(user);
    document.getElementById('dashBalance').textContent = '‚Çπ ' + currentUser.balance;
    showPage('dashboard');
  } else {
    alert('User not found. Please sign up first.');
  }
}

function handleLogout() {
  currentUser = null;
  showPage('hero');
}

// Load bank info if available
fetch('data/bank_info.json').then(r => r.json()).then(d => { window.BANK_INFO = d; console.log('Bank info loaded'); }).catch(() => {});

// Load extension helpers (nb_extra.js functions)
fetch('js/nb_extra.js').then(r => r.text()).then(t => { eval(t); console.log('Helpers loaded'); }).catch(() => {});
</script>

</body>
</html>
